{"version":3,"file":"660.bundle.js","mappings":"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","sources":["webpack://damamyamamy/./client/src/utils/themes.js","webpack://damamyamamy/./src/client/App.js","webpack://damamyamamy/./src/client/lib/commerce.js","webpack://damamyamamy/./src/client/redux/LoadCart/loadCart.actions.js","webpack://damamyamamy/./src/client/redux/LoadData/loadData.actions.js"],"sourcesContent":["function setTheme(themeName) {\n    localStorage.setItem(\"theme\", themeName);\n    document.documentElement.className = themeName;\n}\n\nfunction keepTheme() {\n    if (localStorage.getItem(\"theme\")) {\n        if (localStorage.getItem(\"theme\") === \"theme-dark\") {\n            setTheme(\"theme-dark\");\n        } else if (localStorage.getItem(\"theme\") === \"theme-light\") {\n            setTheme(\"theme-light\");\n        }\n    } else {\n        setTheme(\"theme-dark\");\n    }\n}\n\nmodule.exports = {\n    setTheme,\n    keepTheme,\n};\n","// REACT\nimport loadable from \"@loadable/component\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\n\n// REDUX\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport {\n    loadData,\n    fetchSpecificCategories,\n    fetchCategories,\n    fetchHighestValue,\n} from \"./redux/LoadData/loadData.actions\";\nimport { fetchCart } from \"./redux/LoadCart/loadCart.actions\";\nconst fetchData = (state) => state.loadData;\n// const fetchState = (state) => state;\n\n// COMPONENTS\nconst Header = loadable(() => import(\"./components/Header/Header\"));\nconst Footer = loadable(() => import(\"./components/Footer/Footer\"));\nconst Overlay = loadable(() => import(\"./components/Overlay/Overlay\"));\n\nconst Home = loadable(() => import(\"./components/Home/Home\"));\nconst About = loadable(() => import(\"./components/About/About\"));\nconst Contact = loadable(() => import(\"./components/Contact/Contact\"));\nconst Shop = loadable(() => import(\"./components/Shop/Shop\"));\nconst Item = loadable(() => import(\"./components/Shop/Item/Item\"));\nconst Cart = loadable(() => import(\"./components/Cart/Cart\"));\nconst Checkout = loadable(() => import(\"./components/Checkout/Checkout\"));\n\nconst FAQ = loadable(() => import(\"./components/Documents/FAQ/FAQ\"));\nconst PrivacyAndCookiePolicy = loadable(() =>\n    import(\"./components/Documents/PrivacyAndCookiePolicy\")\n);\nconst Regolamento = loadable(() =>\n    import(\"./components/Documents/Regolamento\")\n);\nconst TermsAndConditions = loadable(() =>\n    import(\"./components/Documents/TermsAndConditions\")\n);\nconst CookiesPopUp = loadable(() =>\n    import(\"./components/CookiesPopUp/CookiesPopUp\")\n);\n\n// CUSTOM HOOKS\nimport { keepTheme } from \"../../client/src/utils/themes\";\n\n// APP\nexport default function App() {\n    let data = useSelector(fetchData, shallowEqual);\n    console.log(\"data changed:\", data);\n    // let state = useSelector(fetchState, shallowEqual); // only for development //crashes Shop\n    // console.log(\"ðŸŸREDUX store: \", state);\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        keepTheme();\n        dispatch(loadData());\n        dispatch(fetchCategories());\n        dispatch(fetchCart());\n    }, []);\n\n    useEffect(() => {\n        dispatch(fetchSpecificCategories());\n    }, [data.data]);\n\n    const routes = [\n        {\n            path: \"/\",\n            exact: true,\n            component: () => <Home props={\"\"} />,\n        },\n        {\n            path: \"/about\",\n            component: About,\n        },\n        {\n            path: \"/shop\",\n            component: () => <Shop />,\n        },\n        {\n            path: \"/item/:id\",\n            component: Item,\n        },\n        {\n            path: \"/contact\",\n            component: Contact,\n        },\n        {\n            path: \"/checkout\",\n            component: Checkout,\n        },\n        {\n            path: \"/cart\",\n            component: Cart,\n        },\n        {\n            path: \"/cookie-policy\",\n            component: PrivacyAndCookiePolicy,\n        },\n        {\n            path: \"/FAQ\",\n            component: FAQ,\n        },\n        {\n            path: \"/regolamento\",\n            component: Regolamento,\n        },\n        {\n            path: \"/terms-conditions\",\n            component: TermsAndConditions,\n        },\n    ];\n\n    return (\n        <div className=\"App\">\n            <Header fallback={<div className=\"loader\" />} />\n            <Switch>\n                {routes.map((route, i) => (\n                    <RouteWithSubRoutes key={i + 1} {...route} />\n                ))}\n                {/* mappiamo l'array creando una Route per ogni route che abbiamo dichiarato, la passiamo come prop: vedi prossima fn */}\n            </Switch>\n            <Footer fallback={<div className=\"loader\" />} />\n            <Overlay />\n            <CookiesPopUp />\n        </div>\n    );\n}\n\n// SINGLE ROUTE COMPONENT\nfunction RouteWithSubRoutes(route) {\n    console.log(\"route\", route);\n    return (\n        <Route\n            path={route.path}\n            render={(props) => (\n                <route.component\n                    {...props}\n                    routes={route.routes}\n                    fallback={<div className=\"loader\" />}\n                />\n            )}\n        />\n    );\n}\n\n// notAvailables viene passato da App ai children (es. App->Shop->Item->CartButton)\n// perchÃ© Cart state vÃ¡ caricato a prescindere da quale component arriviamo prima, come da url bar link\n// inoltre il suo stato deve essere costante in tutta App e i suoi children\n// quindi tutti i component devono aggiornarsi di conseguenza, insieme\n\n// const handleAddToCart = async (productId, quantity) => {\n//     const item = await commerce.cart.add(productId, quantity);\n//     const addedItems = item.cart.line_items.map((obj) => ({\n//         item_id: obj.id,\n//         product_id: obj.product_id,\n//     }));\n\n//     setState({ ...state, cart: item.cart, notAvailables: addedItems });\n// };\n// const handleRemoveFromCart = async (productId) => {\n//     const item = await commerce.cart.remove(productId);\n//     const addedItems = item.cart.line_items.map((obj) => ({\n//         item_id: obj.id,\n//         product_id: obj.product_id,\n//     }));\n\n//     setState({ ...state, cart: item.cart, notAvailables: addedItems });\n// };\n\n// const handleEmptyCart = async () => {\n//     const item = await commerce.cart.empty();\n//     const addedItems = item.cart.line_items.map((obj) => ({\n//         item_id: obj.id,\n//         product_id: obj.product_id,\n//     }));\n\n//     setState({ ...state, cart: item.cart, notAvailables: addedItems });\n// };\n// const refreshCart = async () => {\n//     const newCart = await commerce.cart.refresh();\n//     setState({ ...state, cart: newCart, notAvailables: [] });\n// };\n// const handleCaptureCheckout = async (checkoutTokenId, newOrder) => {\n//     if (checkoutTokenId === \"test\") {\n//         //this is only for test\n//         handleEmptyCart();\n//     } else {\n//         try {\n//             const incomingOrder = await commerce.checkout.capture(\n//                 checkoutTokenId,\n//                 newOrder\n//             );\n//             setState({ ...state, order: incomingOrder });\n//             refreshCart();\n//         } catch (err) {\n//             setState({ ...state, errorMessage: err.data.error.message });\n//         }\n//     }\n// };\n","import Commerce from \"@chec/commerce.js\";\n\nexport const commerce = new Commerce(\n    process.env.REACT_APP_CHEC_PUBLIC_KEY,\n    true\n);\n","import {\n    FETCH_CART,\n    HANDLE_CART,\n    HANDLE_NEW_CART,\n    HANDLE_ERROR,\n} from \"./loadCart.types\";\n\nimport { commerce } from \"../../lib/commerce\";\n\nexport function fetchCart() {\n    return (dispatch) => {\n        dispatch({\n            type: FETCH_CART,\n        });\n        getSomeAsyncData(dispatch, commerce.cart.retrieve(), FETCH_CART);\n    };\n}\nexport function addToCart(payload) {\n    return (dispatch) =>\n        getSomeAsyncData(\n            dispatch,\n            commerce.cart.add(payload.productId, payload.quantity),\n            HANDLE_CART\n        );\n}\nexport function removeFromCart(payload) {\n    return (dispatch) =>\n        getSomeAsyncData(\n            dispatch,\n            commerce.cart.remove(payload.productId),\n            HANDLE_CART\n        );\n}\nexport function emptyCart() {\n    return (dispatch) =>\n        getSomeAsyncData(dispatch, commerce.cart.empty(), HANDLE_CART);\n}\nexport function refreshCart() {\n    return (dispatch) =>\n        getSomeAsyncData(dispatch, commerce.cart.refresh(), HANDLE_NEW_CART);\n}\n\nasync function getSomeAsyncData(dispatch, url, type) {\n    console.log(`ðŸ‘®â€â™€ï¸ðŸ‘®â€â™‚ï¸ðŸ‘®â€â™€ï¸: `, type);\n    // console.log(`ðŸ˜ŽðŸ˜‹ðŸ˜‹url in ${type}: `, url);\n    try {\n        const data = await url;\n        console.log(`ðŸ˜ŽðŸ˜‹ðŸ˜‹data in ${type}: `, data);\n        dispatch({\n            type: type,\n            payload: data,\n        });\n    } catch (err) {\n        console.log(`err in ${type} action: `, err);\n        dispatch({\n            type: HANDLE_ERROR,\n            payload: { actionType: type, error: err },\n        });\n    }\n}\n","import {\n    LOAD_DATA,\n    FETCH_CATEGORIES,\n    FETCH_SPECIFIC_CATEGORIES,\n    FETCH_HIGHEST_VALUE,\n    GET_ITEM,\n} from \"./loadData.types\";\n\nimport { commerce } from \"../../lib/commerce\"; // importa axios, api, ...\n\n// Molte delle funzioni che farÃ¡ il reducer si potranno eliminare se si lavora con server o api, vedi sotto\nexport function loadData() {\n    return (dispatch) => {\n        dispatch({\n            type: LOAD_DATA,\n        });\n        getSomeAsyncData(dispatch, commerce.products.list(), LOAD_DATA);\n    };\n} // This is how we do async actions with redux-thunk\n\nexport function fetchCategories() {\n    return (dispatch) => {\n        dispatch({\n            type: FETCH_CATEGORIES,\n        });\n        getSomeAsyncData(\n            dispatch,\n            commerce.categories.list(),\n            FETCH_CATEGORIES\n        );\n    };\n} // This is how we do async actions with redux-thunk\n\nexport function getItem(payload) {\n    // una cosa come questa Ã© meglio farla via request server side se possibile\n    console.log(\"ðŸ˜¶ðŸ˜¶ðŸ˜¶ðŸ˜¶ðŸ˜¶ðŸ˜¶\", payload.key);\n    let { key } = payload;\n    return (dispatch) => {\n        dispatch({\n            type: GET_ITEM,\n        });\n        getSomeAsyncData(dispatch, commerce.products.retrieve(key), GET_ITEM);\n    };\n}\n\nasync function getSomeAsyncData(dispatch, url, type) {\n    let result;\n    try {\n        if (type === GET_ITEM) {\n            const data = await url;\n            result = data;\n        } else {\n            const { data } = await url;\n            result = data;\n        }\n\n        dispatch({\n            type: type,\n            payload: result,\n        });\n        console.log(\"ðŸ˜¶ðŸ˜¶ðŸ˜¶ðŸ˜¶ðŸ˜¶ðŸ˜¶datadatadata\", result);\n    } catch (err) {\n        console.log(`err in ${type} action: `, err);\n    }\n}\n\nexport function fetchSpecificCategories() {\n    return {\n        type: FETCH_SPECIFIC_CATEGORIES,\n    };\n}\nexport function fetchHighestValue() {\n    return {\n        type: FETCH_HIGHEST_VALUE,\n    };\n}\n"],"names":["setTheme","themeName","localStorage","setItem","document","documentElement","className","keepTheme","getItem","module","exports","loadable","useState","useEffect","useRef","Switch","Route","Link","useDispatch","useSelector","shallowEqual","loadData","fetchSpecificCategories","fetchCategories","fetchHighestValue","fetchCart","fetchData","state","Header","Footer","Overlay","Home","About","Contact","Shop","Item","Cart","Checkout","FAQ","PrivacyAndCookiePolicy","Regolamento","TermsAndConditions","CookiesPopUp","App","data","console","log","dispatch","routes","path","exact","component","map","route","i","RouteWithSubRoutes","props","Commerce","commerce","process","env","REACT_APP_CHEC_PUBLIC_KEY","FETCH_CART","HANDLE_CART","HANDLE_NEW_CART","HANDLE_ERROR","type","getSomeAsyncData","cart","retrieve","addToCart","payload","add","productId","quantity","removeFromCart","remove","emptyCart","empty","refreshCart","refresh","url","actionType","error","LOAD_DATA","FETCH_CATEGORIES","FETCH_SPECIFIC_CATEGORIES","FETCH_HIGHEST_VALUE","GET_ITEM","products","list","categories","key","result"],"sourceRoot":""}